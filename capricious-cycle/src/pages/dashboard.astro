---
// src/pages/subscriptions.astro
import { supabase } from '../lib/supabase.js';

const { data, error } = await supabase
  .from('subscriptions')
  .select('*');

if (error) throw error;
---
<!--
  📄 页面名称：个人中心（Dashboard）
  📍 页面路径：/dashboard
  📦 所属模块：用户系统 / 会员系统
  🎯 页面功能：
    - 展示用户欢迎信息和基本资料
    - 展示我的课程、学习进度、打卡历史
    - 提供用户信息设置入口（如头像、昵称）

  🎨 组件依赖：
    - <UserProfile />
    - <CourseProgress />
    - <AccountSettings />

  🧩 页面意义：
    - 用户在站点中的专属空间，强化用户归属感
    - 支撑个性化推荐与学习行为追踪

  🧠 注意事项：
    - 页面需确保用户已登录，否则应跳转到 /login
    - 后续可添加付费状态与订阅管理功能
-->

<html>
  <body>
    <h1>My Subscriptions</h1>
    <ul>
      {data.map((row) => (
        <li>{row.id}: {row.plan} — {row.status}</li>
      ))}
    </ul>
  </body>
</html>