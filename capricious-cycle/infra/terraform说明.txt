# Terraform 配置文件
# - 管理 Cloudflare Worker、KV Namespace 和 R2 存储桶
# - 所有资源均由 Terraform 定义并自动部署到 Cloudflare

... (rest of infra/terraform.tf content unchanged) ...

# Terraform 输入变量定义
# - API Token 与 Account ID 通过环境变量注入或 tfvars 文件提供
# - 请勿将真实 token 提交到 Git 仓库

... (rest of infra/variables.tf content unchanged) ...

# 示例配置，仅用于演示。请在生产环境中使用安全方式管理密钥

... (rest of infra/terraform.tfvars.example content unchanged) ...

# ⚠️ Terraform 状态文件由 Terraform 自动维护。请勿手动编辑。应将其存储在远程后端（如 Terraform Cloud）以支持协作与回滚。

... (rest of infra/terraform.tfstate and .backup content unchanged) ...

# 注意事项
# 1. 所有 `cloudflare_worker_script` 资源中 `content = file(...)` 指向的路径必须确保存在 `dist/worker.mjs` 文件。否则 `terraform apply` 会失败。
# 2. 删除 DurableObject 绑定后需清除绑定残留：
#    - 包含 `PROGRESS_DO` 的任何绑定字段
#    - wrangler.toml 中的 `DurableObjects` 声明
#    - 源码中的 `ProgressDO` 引用
# 3. 所有资源均需手动执行 `terraform apply` 后再同步部署到 wrangler 项目中，防止配置不一致。